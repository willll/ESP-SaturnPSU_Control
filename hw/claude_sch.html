<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP8266 Relay Control Circuit</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 1000px;
        }
        h1 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 24px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }
        svg {
            width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        .component-label {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            font-weight: bold;
        }
        .wire {
            stroke-width: 2;
            fill: none;
        }
        .wire-gnd { stroke: #000; }
        .wire-vcc { stroke: #c00; }
        .wire-signal { stroke: #00a; }
        .notes {
            margin-top: 25px;
            padding: 20px;
            background: #f0f7ff;
            border-left: 4px solid #1e3c72;
            border-radius: 4px;
        }
        .notes h3 {
            margin-top: 0;
            color: #1e3c72;
        }
        .notes ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .notes li {
            margin: 8px 0;
            line-height: 1.6;
        }
        .warning {
            background: #fff3cd;
            border-left-color: #ff9800;
            margin-top: 15px;
            padding: 15px;
            border-radius: 4px;
        }
        .warning strong {
            color: #ff9800;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ESP8266 NodeMCU to Omron G6B-1114P-US Relay Control Circuit</h1>
        <p class="subtitle">12VDC Relay Control with NPN Transistor Driver</p>
        
        <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <!-- Define markers for dots -->
            <defs>
                <marker id="dot" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5">
                    <circle cx="5" cy="5" r="3" fill="black"/>
                </marker>
            </defs>
            
            <!-- ESP8266 NodeMCU -->
            <rect x="50" y="150" width="120" height="200" fill="#2c5aa0" stroke="#000" stroke-width="2" rx="5"/>
            <text x="110" y="180" text-anchor="middle" fill="white" font-size="14" font-weight="bold">ESP8266</text>
            <text x="110" y="200" text-anchor="middle" fill="white" font-size="12">NodeMCU</text>
            
            <!-- ESP8266 Pins -->
            <circle cx="170" cy="230" r="4" fill="#ffd700"/>
            <text x="185" y="235" class="component-label" fill="#000">D1 (GPIO5)</text>
            <circle cx="170" cy="300" r="4" fill="#000"/>
            <text x="185" y="305" class="component-label" fill="#000">GND</text>
            
            <!-- Resistor (1kŒ©) -->
            <line x1="240" y1="230" x2="280" y2="230" class="wire wire-signal"/>
            <rect x="280" y="220" width="50" height="20" fill="tan" stroke="#000" stroke-width="2" rx="3"/>
            <line x1="285" y1="222" x2="285" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="290" y1="222" x2="290" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="295" y1="222" x2="295" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="300" y1="222" x2="300" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="305" y1="222" x2="305" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="310" y1="222" x2="310" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="315" y1="222" x2="315" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="320" y1="222" x2="320" y2="238" stroke="#000" stroke-width="1"/>
            <line x1="325" y1="222" x2="325" y2="238" stroke="#000" stroke-width="1"/>
            <text x="305" y="215" text-anchor="middle" font-size="11" font-weight="bold">1kŒ©</text>
            
            <!-- NPN Transistor (2N2222 or similar) -->
            <circle cx="380" cy="280" r="30" fill="none" stroke="#000" stroke-width="2"/>
            <line x1="370" y1="260" x2="370" y2="300" stroke="#000" stroke-width="3"/>
            <line x1="370" y1="270" x2="395" y2="255" stroke="#000" stroke-width="2"/>
            <line x1="370" y1="290" x2="395" y2="305" stroke="#000" stroke-width="2"/>
            <polygon points="390,255 395,260 385,263" fill="#000"/>
            <text x="380" y="335" text-anchor="middle" font-size="11" font-weight="bold">2N2222</text>
            <text x="380" y="348" text-anchor="middle" font-size="10">(NPN)</text>
            
            <!-- Transistor Pins Labels -->
            <text x="403" y="253" font-size="9" fill="#666">C</text>
            <text x="343" y="283" font-size="9" fill="#666">B</text>
            <text x="403" y="313" font-size="9" fill="#666">E</text>
            
            <!-- Wire from resistor to base -->
            <line x1="330" y1="230" x2="350" y2="230" class="wire wire-signal"/>
            <line x1="350" y1="230" x2="350" y2="270" class="wire wire-signal"/>
            <line x1="350" y1="270" x2="370" y2="270" class="wire wire-signal"/>
            
            <!-- Diode (Flyback - 1N4007) -->
            <line x1="480" y1="200" x2="480" y2="240" stroke="#000" stroke-width="2"/>
            <polygon points="470,200 490,200 480,220" fill="#000"/>
            <line x1="470" y1="220" x2="490" y2="220" stroke="#000" stroke-width="2"/>
            <text x="500" y="220" font-size="10" font-weight="bold">1N4007</text>
            
            <!-- Relay Coil -->
            <rect x="450" y="250" width="60" height="80" fill="#8b4513" stroke="#000" stroke-width="2" rx="3"/>
            <circle cx="465" cy="270" r="3" fill="#ffd700"/>
            <circle cx="495" cy="270" r="3" fill="#ffd700"/>
            <circle cx="465" cy="310" r="3" fill="#ffd700"/>
            <circle cx="495" cy="310" r="3" fill="#ffd700"/>
            <text x="480" y="295" text-anchor="middle" fill="white" font-size="11" font-weight="bold">RELAY</text>
            <text x="480" y="308" text-anchor="middle" fill="white" font-size="9">G6B-1114P</text>
            <text x="480" y="320" text-anchor="middle" fill="white" font-size="9">12VDC</text>
            
            <!-- Relay Contacts -->
            <rect x="570" y="150" width="80" height="100" fill="#ddd" stroke="#000" stroke-width="2" rx="3"/>
            <circle cx="585" cy="175" r="4" fill="#000"/>
            <text x="600" y="180" font-size="10" font-weight="bold">COM</text>
            <circle cx="585" cy="205" r="4" fill="#000"/>
            <text x="600" y="210" font-size="10" font-weight="bold">NO</text>
            <circle cx="585" cy="235" r="4" fill="#000"/>
            <text x="600" y="240" font-size="10" font-weight="bold">NC</text>
            <line x1="585" y1="175" x2="620" y2="185" stroke="#000" stroke-width="2"/>
            
            <!-- 12V Power Supply -->
            <rect x="600" y="400" width="80" height="60" fill="#c00" stroke="#000" stroke-width="2" rx="5"/>
            <text x="640" y="425" text-anchor="middle" fill="white" font-size="12" font-weight="bold">12V DC</text>
            <text x="640" y="440" text-anchor="middle" fill="white" font-size="11">SUPPLY</text>
            <circle cx="610" cy="400" r="4" fill="#ff0"/>
            <circle cx="670" cy="400" r="4" fill="#000"/>
            <text x="610" y="390" text-anchor="middle" font-size="10" font-weight="bold">+</text>
            <text x="670" y="390" text-anchor="middle" font-size="10" font-weight="bold">-</text>
            
            <!-- Wiring -->
            <!-- ESP8266 D1 to Resistor -->
            <line x1="170" y1="230" x2="240" y2="230" class="wire wire-signal"/>
            
            <!-- 12V+ to Relay Coil -->
            <line x1="610" y1="400" x2="610" y2="200" class="wire wire-vcc"/>
            <line x1="610" y1="200" x2="480" y2="200" class="wire wire-vcc"/>
            <circle cx="480" cy="200" r="3" fill="#c00"/>
            <line x1="480" y1="200" x2="480" y2="250" class="wire wire-vcc"/>
            
            <!-- Relay Coil to Collector -->
            <line x1="480" y1="330" x2="480" y2="360" class="wire wire-gnd"/>
            <line x1="480" y1="360" x2="395" y2="360" class="wire wire-gnd"/>
            <line x1="395" y1="360" x2="395" y2="305" class="wire wire-gnd"/>
            
            <!-- Emitter to GND -->
            <line x1="395" y1="305" x2="395" y2="380" class="wire wire-gnd"/>
            <line x1="395" y1="380" x2="300" y2="380" class="wire wire-gnd"/>
            
            <!-- ESP8266 GND to common GND -->
            <line x1="170" y1="300" x2="300" y2="300" class="wire wire-gnd"/>
            <line x1="300" y1="300" x2="300" y2="380" class="wire wire-gnd"/>
            <circle cx="300" cy="380" r="3" fill="#000"/>
            
            <!-- 12V GND to common GND -->
            <line x1="670" y1="400" x2="670" y2="450" class="wire wire-gnd"/>
            <line x1="670" y1="450" x2="300" y2="450" class="wire wire-gnd"/>
            <line x1="300" y1="450" x2="300" y2="380" class="wire wire-gnd"/>
            
            <!-- Diode connections -->
            <circle cx="480" cy="240" r="3" fill="#000"/>
            
            <!-- Ground symbol -->
            <line x1="290" y1="455" x2="310" y2="455" stroke="#000" stroke-width="2"/>
            <line x1="295" y1="460" x2="305" y2="460" stroke="#000" stroke-width="2"/>
            <line x1="298" y1="465" x2="302" y2="465" stroke="#000" stroke-width="2"/>
            <text x="300" y="480" text-anchor="middle" font-size="11" font-weight="bold">GND</text>
            
            <!-- Connection dots -->
            <circle cx="480" cy="200" r="3" fill="#c00"/>
            <circle cx="480" cy="240" r="3" fill="#000"/>
            <circle cx="300" cy="380" r="3" fill="#000"/>
        </svg>
        
        <div class="notes">
            <h3>üìã Component List:</h3>
            <ul>
                <li><strong>ESP8266 NodeMCU ESP-12E:</strong> Microcontroller board</li>
                <li><strong>Omron G6B-1114P-US:</strong> 12VDC SPDT relay (coil resistance ~400Œ©, ~30mA)</li>
                <li><strong>2N2222 NPN Transistor:</strong> (or BC547, 2N3904) for relay driver</li>
                <li><strong>1kŒ© Resistor:</strong> Base resistor for transistor</li>
                <li><strong>1N4007 Diode:</strong> Flyback diode (any 1A+ diode works)</li>
                <li><strong>12V DC Power Supply:</strong> For relay coil power</li>
            </ul>
            
            <h3>üîß How It Works:</h3>
            <ul>
                <li>ESP8266 GPIO5 (D1) outputs 3.3V signal to control the relay</li>
                <li>1kŒ© resistor limits base current to the transistor</li>
                <li>NPN transistor acts as a switch for the relay coil</li>
                <li>When D1 is HIGH, transistor conducts, energizing the relay</li>
                <li>Flyback diode (1N4007) protects against voltage spikes when relay turns off</li>
                <li>Common ground connects ESP8266 and 12V supply</li>
            </ul>
            
            <h3>üíª Sample Arduino Code:</h3>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto;">
const int relayPin = D1; // GPIO5

void setup() {
  pinMode(relayPin, OUTPUT);
  digitalWrite(relayPin, LOW); // Relay OFF initially
}

void loop() {
  digitalWrite(relayPin, HIGH); // Relay ON
  delay(2000);
  digitalWrite(relayPin, LOW);  // Relay OFF
  delay(2000);
}</pre>
        </div>
        
        <div class="notes warning">
            <strong>‚ö†Ô∏è Important Notes:</strong>
            <ul>
                <li><strong>Common Ground:</strong> ESP8266 GND and 12V power supply GND MUST be connected together</li>
                <li><strong>Diode Orientation:</strong> Cathode (stripe) connects to +12V, anode to collector</li>
                <li><strong>Relay Contacts:</strong> Can switch AC or DC loads up to relay rating (check datasheet)</li>
                <li><strong>DO NOT connect 12V directly to ESP8266</strong> - it will damage the board!</li>
            </ul>
        </div>
    </div>
</body>
</html>

