<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete ESP8266 Relay Control - Final Schematic</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 1800px;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 32px;
            text-align: center;
        }
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 18px;
            text-align: center;
        }
        svg {
            width: 100%;
            height: auto;
            border: 3px solid #2c3e50;
            border-radius: 4px;
            background: white;
        }
        .download-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
        }
        .download-btn:hover {
            background: #2980b9;
        }
        .features {
            margin-top: 30px;
            padding: 20px;
            background: #e8f8f5;
            border-left: 5px solid #16a085;
            border-radius: 4px;
        }
        .features h3 {
            margin-top: 0;
            color: #16a085;
        }
        .features ul {
            margin: 10px 0;
            padding-left: 25px;
        }
        .features li {
            margin: 10px 0;
            line-height: 1.6;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Complete ESP8266 Relay Control System - Final Schematic</h1>
        <p class="subtitle">Single 12V Power Supply | Manual Button | Status LED | WiFi Control Ready</p>
        
        <svg viewBox="0 0 1800 1200" xmlns="http://www.w3.org/2000/svg">
            <!-- Define styles and markers -->
            <defs>
                <!-- Grid pattern -->
                <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                    <circle cx="10" cy="10" r="0.8" fill="#ddd"/>
                </pattern>
                
                <!-- Junction dot -->
                <circle id="junction" r="6" fill="#e74c3c"/>
                
                <!-- Ground symbol -->
                <g id="ground">
                    <line x1="0" y1="0" x2="0" y2="15" stroke="#000" stroke-width="3"/>
                    <line x1="-15" y1="15" x2="15" y2="15" stroke="#000" stroke-width="3"/>
                    <line x1="-10" y1="22" x2="10" y2="22" stroke="#000" stroke-width="2"/>
                    <line x1="-5" y1="29" x2="5" y2="29" stroke="#000" stroke-width="2"/>
                </g>
            </defs>
            
            <!-- Background -->
            <rect width="1800" height="1200" fill="url(#grid)"/>
            
            <!-- Title Block -->
            <rect x="10" y="10" width="1780" height="100" fill="#34495e" stroke="#2c3e50" stroke-width="3"/>
            <text x="900" y="45" font-size="32" font-weight="bold" fill="white" text-anchor="middle">
                COMPLETE ESP8266 RELAY CONTROL SYSTEM
            </text>
            <text x="900" y="75" font-size="18" fill="#ecf0f1" text-anchor="middle">
                With LM2596 Power Supply | Push Button Control | Status LED | 2N2222A Driver
            </text>
            <text x="900" y="95" font-size="14" fill="#95a5a6" text-anchor="middle">
                Rev 2.0 | Single 12V Power Source | All Features Integrated
            </text>
            
            <!-- ============================================ -->
            <!-- 12V POWER SUPPLY -->
            <!-- ============================================ -->
            <g id="power-supply">
                <rect x="800" y="140" width="100" height="80" fill="#e74c3c" stroke="#000" stroke-width="3" rx="5"/>
                <text x="850" y="170" font-size="18" font-weight="bold" fill="white" text-anchor="middle">12V DC</text>
                <text x="850" y="195" font-size="14" fill="white" text-anchor="middle">Supply</text>
                <text x="850" y="213" font-size="11" fill="#fff" text-anchor="middle">500mA min</text>
                
                <!-- Power rails -->
                <line x1="850" y1="220" x2="850" y2="260" stroke="#e74c3c" stroke-width="5"/>
                <circle cx="850" cy="260" r="6" fill="#e74c3c"/>
                <text x="870" y="265" font-size="16" font-weight="bold" fill="#e74c3c">+12V</text>
                
                <!-- Ground connection -->
                <line x1="850" y1="220" x2="900" y2="220" stroke="#000" stroke-width="5"/>
                <line x1="900" y1="220" x2="900" y2="1100" stroke="#000" stroke-width="5"/>
            </g>
            
            <!-- ============================================ -->
            <!-- LM2596 BUCK CONVERTER -->
            <!-- ============================================ -->
            <g id="lm2596">
                <rect x="150" y="330" width="180" height="120" fill="#2ecc71" stroke="#000" stroke-width="3" rx="5"/>
                <text x="240" y="365" font-size="20" font-weight="bold" fill="white" text-anchor="middle">LM2596</text>
                <text x="240" y="390" font-size="16" fill="white" text-anchor="middle">Buck Converter</text>
                <text x="240" y="410" font-size="13" fill="#d5f4e6" text-anchor="middle">12V ‚Üí 5V</text>
                <text x="240" y="430" font-size="11" fill="#d5f4e6" text-anchor="middle">92% efficient</text>
                
                <!-- Pins -->
                <!-- IN+ -->
                <line x1="150" y1="360" x2="100" y2="360" stroke="#e74c3c" stroke-width="4"/>
                <text x="135" y="355" font-size="13" font-weight="bold" fill="#000">IN+</text>
                <line x1="100" y1="360" x2="100" y2="260" stroke="#e74c3c" stroke-width="4"/>
                <circle cx="100" cy="260" r="6" fill="#e74c3c"/>
                
                <!-- IN- -->
                <line x1="150" y1="420" x2="100" y2="420" stroke="#000" stroke-width="4"/>
                <text x="135" y="435" font-size="13" font-weight="bold" fill="#000">IN-</text>
                <line x1="100" y1="420" x2="100" y2="1100" stroke="#000" stroke-width="4"/>
                
                <!-- OUT+ (5V) -->
                <line x1="330" y1="360" x2="400" y2="360" stroke="#27ae60" stroke-width="4"/>
                <text x="345" y="355" font-size="13" font-weight="bold" fill="#000">OUT+</text>
                <text x="410" y="365" font-size="16" font-weight="bold" fill="#27ae60">5V</text>
                
                <!-- OUT- -->
                <line x1="330" y1="420" x2="380" y2="420" stroke="#000" stroke-width="4"/>
                <text x="345" y="435" font-size="13" font-weight="bold" fill="#000">OUT-</text>
                <line x1="380" y1="420" x2="380" y2="1100" stroke="#000" stroke-width="4"/>
                <circle cx="380" cy="1100" r="6" fill="#000"/>
            </g>
            
            <!-- ============================================ -->
            <!-- ESP8266 NodeMCU -->
            <!-- ============================================ -->
            <g id="esp8266">
                <rect x="500" y="550" width="250" height="350" fill="#3498db" stroke="#000" stroke-width="3" rx="8"/>
                <text x="625" y="595" font-size="24" font-weight="bold" fill="white" text-anchor="middle">ESP8266</text>
                <text x="625" y="625" font-size="18" fill="#ecf0f1" text-anchor="middle">NodeMCU</text>
                <text x="625" y="650" font-size="14" fill="#ecf0f1" text-anchor="middle">ESP-12E</text>
                
                <!-- WiFi symbol -->
                <g transform="translate(625, 690)">
                    <path d="M -20,-8 Q -20,-20 0,-20 Q 20,-20 20,-8" fill="none" stroke="white" stroke-width="2"/>
                    <path d="M -13,-4 Q -13,-12 0,-12 Q 13,-12 13,-4" fill="none" stroke="white" stroke-width="2"/>
                    <path d="M -6,0 Q -6,-4 0,-4 Q 6,-4 6,0" fill="none" stroke="white" stroke-width="2"/>
                    <circle cx="0" cy="4" r="3" fill="white"/>
                </g>
                
                <!-- VIN pin -->
                <circle cx="500" cy="650" r="5" fill="#27ae60"/>
                <line x1="500" y1="650" x2="400" y2="650" stroke="#27ae60" stroke-width="4"/>
                <line x1="400" y1="650" x2="400" y2="360" stroke="#27ae60" stroke-width="4"/>
                <text x="480" y="645" font-size="14" font-weight="bold" fill="white">VIN</text>
                <text x="485" y="665" font-size="11" fill="#ecf0f1">(5V)</text>
                
                <!-- GND pin -->
                <circle cx="500" cy="730" r="5" fill="#000"/>
                <line x1="500" y1="730" x2="450" y2="730" stroke="#000" stroke-width="4"/>
                <line x1="450" y1="730" x2="450" y2="1100" stroke="#000" stroke-width="4"/>
                <text x="480" y="745" font-size="14" font-weight="bold" fill="white">GND</text>
                
                <!-- D1 (GPIO5) - Relay control -->
                <circle cx="750" cy="760" r="5" fill="#ff9800"/>
                <line x1="750" y1="760" x2="850" y2="760" stroke="#ff9800" stroke-width="4"/>
                <text x="765" y="755" font-size="14" font-weight="bold" fill="white">D1</text>
                <text x="765" y="773" font-size="11" fill="#ecf0f1">(GPIO5)</text>
                
                <!-- D2 (GPIO4) - Button input -->
                <circle cx="750" cy="810" r="5" fill="#9b59b6"/>
                <line x1="750" y1="810" x2="850" y2="810" stroke="#9b59b6" stroke-width="4"/>
                <text x="765" y="805" font-size="14" font-weight="bold" fill="white">D2</text>
                <text x="765" y="823" font-size="11" fill="#ecf0f1">(GPIO4)</text>
                
                <!-- D3 (GPIO0) - LED output -->
                <circle cx="750" cy="860" r="5" fill="#e74c3c"/>
                <line x1="750" y1="860" x2="850" y2="860" stroke="#e74c3c" stroke-width="4"/>
                <text x="765" y="855" font-size="14" font-weight="bold" fill="white">D3</text>
                <text x="765" y="873" font-size="11" fill="#ecf0f1">(GPIO0)</text>
            </g>
            
            <!-- ============================================ -->
            <!-- R1: 1kŒ© Base Resistor -->
            <!-- ============================================ -->
            <g id="resistor-r1">
                <rect x="930" y="750" width="80" height="20" fill="#d4a574" stroke="#000" stroke-width="2" rx="3"/>
                <line x1="940" y1="752" x2="940" y2="768" stroke="#8B4513" stroke-width="4"/>
                <line x1="955" y1="752" x2="955" y2="768" stroke="#000" stroke-width="4"/>
                <line x1="970" y1="752" x2="970" y2="768" stroke="#FF0000" stroke-width="4"/>
                <line x1="995" y1="752" x2="995" y2="768" stroke="#FFD700" stroke-width="4"/>
                
                <line x1="850" y1="760" x2="930" y2="760" stroke="#ff9800" stroke-width="4"/>
                <line x1="1010" y1="760" x2="1080" y2="760" stroke="#ff9800" stroke-width="4"/>
                
                <text x="970" y="740" font-size="14" font-weight="bold" fill="#000" text-anchor="middle">R1</text>
                <text x="970" y="795" font-size="13" fill="#000" text-anchor="middle">1kŒ©</text>
            </g>
            
            <!-- ============================================ -->
            <!-- Q1: 2N2222A Transistor -->
            <!-- ============================================ -->
            <g id="transistor">
                <circle cx="1200" cy="800" r="60" fill="none" stroke="#000" stroke-width="3"/>
                
                <!-- Base -->
                <line x1="1155" y1="780" x2="1155" y2="820" stroke="#000" stroke-width="4"/>
                <line x1="1080" y1="760" x2="1155" y2="780" stroke="#ff9800" stroke-width="4"/>
                <circle cx="1155" cy="780" r="5" fill="#ff9800"/>
                
                <!-- Collector -->
                <line x1="1155" y1="785" x2="1190" y2="760" stroke="#000" stroke-width="4"/>
                <line x1="1190" y1="760" x2="1190" y2="680" stroke="#000" stroke-width="4"/>
                <circle cx="1190" cy="760" r="5" fill="#000"/>
                
                <!-- Emitter with arrow -->
                <line x1="1155" y1="815" x2="1190" y2="840" stroke="#000" stroke-width="4"/>
                <polygon points="1185,835 1190,845 1195,835" fill="#000"/>
                <line x1="1190" y1="840" x2="1190" y2="1100" stroke="#000" stroke-width="4"/>
                <circle cx="1190" cy="840" r="5" fill="#000"/>
                
                <!-- Labels -->
                <text x="1210" y="755" font-size="14" font-weight="bold" fill="#000">C</text>
                <text x="1130" y="785" font-size="14" font-weight="bold" fill="#000">B</text>
                <text x="1210" y="845" font-size="14" font-weight="bold" fill="#000">E</text>
                
                <text x="1200" y="705" font-size="16" font-weight="bold" fill="#000" text-anchor="middle">Q1</text>
                <text x="1200" y="725" font-size="14" fill="#000" text-anchor="middle">2N2222A</text>
            </g>
            
            <!-- ============================================ -->
            <!-- D1: Flyback Diode -->
            <!-- ============================================ -->
            <g id="diode">
                <line x1="1350" y1="260" x2="1350" y2="410" stroke="#000" stroke-width="3"/>
                <line x1="1335" y1="260" x2="1365" y2="260" stroke="#000" stroke-width="5"/>
                <polygon points="1335,410 1365,410 1350,375" fill="#000"/>
                
                <circle cx="1350" cy="260" r="6" fill="#e74c3c"/>
                <circle cx="1350" cy="410" r="6" fill="#000"/>
                
                <text x="1380" y="265" font-size="14" font-weight="bold" fill="#e74c3c">K (‚àí)</text>
                <text x="1380" y="415" font-size="14" font-weight="bold" fill="#000">A (+)</text>
                
                <text x="1350" y="345" font-size="16" font-weight="bold" fill="#000" text-anchor="middle">D1</text>
                <text x="1350" y="365" font-size="13" fill="#000" text-anchor="middle">1N4007</text>
            </g>
            
            <!-- ============================================ -->
            <!-- K1: Relay -->
            <!-- ============================================ -->
            <g id="relay">
                <rect x="1450" y="350" width="150" height="200" fill="#8B4513" stroke="#000" stroke-width="3" rx="8"/>
                <text x="1525" y="385" font-size="18" font-weight="bold" fill="white" text-anchor="middle">RELAY K1</text>
                <text x="1525" y="410" font-size="15" fill="#FFD700" text-anchor="middle">G6B-1114P-US</text>
                <text x="1525" y="430" font-size="13" fill="white" text-anchor="middle">12VDC</text>
                
                <!-- Coil symbol -->
                <ellipse cx="1500" cy="470" rx="10" ry="20" fill="none" stroke="#FFD700" stroke-width="2"/>
                <ellipse cx="1515" cy="470" rx="10" ry="20" fill="none" stroke="#FFD700" stroke-width="2"/>
                <ellipse cx="1530" cy="470" rx="10" ry="20" fill="none" stroke="#FFD700" stroke-width="2"/>
                <ellipse cx="1545" cy="470" rx="10" ry="20" fill="none" stroke="#FFD700" stroke-width="2"/>
                <ellipse cx="1560" cy="470" rx="10" ry="20" fill="none" stroke="#FFD700" stroke-width="2"/>
                
                <!-- Pins -->
                <circle cx="1475" cy="555" r="6" fill="#e74c3c"/>
                <text x="1475" y="580" font-size="13" font-weight="bold" fill="#000" text-anchor="middle">1</text>
                <text x="1475" y="595" font-size="11" fill="#666" text-anchor="middle">Coil+</text>
                
                <circle cx="1525" cy="555" r="6" fill="#000"/>
                <text x="1525" y="580" font-size="13" font-weight="bold" fill="#000" text-anchor="middle">2</text>
                <text x="1525" y="595" font-size="11" fill="#666" text-anchor="middle">Coil‚àí</text>
                
                <circle cx="1575" cy="555" r="6" fill="#95a5a6"/>
                <text x="1575" y="580" font-size="13" font-weight="bold" fill="#000" text-anchor="middle">3</text>
                <text x="1575" y="595" font-size="11" fill="#666" text-anchor="middle">COM</text>
                
                <circle cx="1625" cy="555" r="6" fill="#95a5a6"/>
                <text x="1625" y="580" font-size="13" font-weight="bold" fill="#000" text-anchor="middle">4</text>
                <text x="1625" y="595" font-size="11" fill="#666" text-anchor="middle">NO</text>
                
                <!-- Connections -->
                <line x1="1475" y1="555" x2="1475" y2="260" stroke="#e74c3c" stroke-width="4"/>
                <circle cx="1475" cy="260" r="6" fill="#e74c3c"/>
                
                <line x1="1525" y1="555" x2="1525" y2="680" stroke="#000" stroke-width="4"/>
                <line x1="1525" y1="680" x2="1190" y2="680" stroke="#000" stroke-width="4"/>
                <circle cx="1525" cy="680" r="6" fill="#000"/>
            </g>
            
            <!-- ============================================ -->
            <!-- PUSH BUTTON -->
            <!-- ============================================ -->
            <g id="button">
                <rect x="920" y="790" width="80" height="40" fill="#2ecc71" stroke="#000" stroke-width="3" rx="5"/>
                <text x="960" y="815" font-size="14" font-weight="bold" fill="white" text-anchor="middle">BUTTON</text>
                
                <line x1="850" y1="810" x2="920" y2="810" stroke="#9b59b6" stroke-width="4"/>
                <line x1="1000" y1="810" x2="1050" y2="810" stroke="#000" stroke-width="4"/>
                <line x1="1050" y1="810" x2="1050" y2="1100" stroke="#000" stroke-width="4"/>
                
                <text x="960" y="780" font-size="13" font-weight="bold" fill="#000" text-anchor="middle">SW1</text>
                <text x="960" y="850" font-size="11" fill="#666" text-anchor="middle">Momentary NO</text>
            </g>
            
            <!-- ============================================ -->
            <!-- STATUS LED -->
            <!-- ============================================ -->
            <g id="status-led">
                <!-- R2: 330Œ© resistor -->
                <rect x="930" y="850" width="80" height="20" fill="#d4a574" stroke="#000" stroke-width="2" rx="3"/>
                <line x1="940" y1="852" x2="940" y2="868" stroke="#FF8C00" stroke-width="4"/>
                <line x1="955" y1="852" x2="955" y2="868" stroke="#FF8C00" stroke-width="4"/>
                <line x1="970" y1="852" x2="970" y2="868" stroke="#8B4513" stroke-width="4"/>
                <line x1="995" y1="852" x2="995" y2="868" stroke="#FFD700" stroke-width="4"/>
                
                <text x="970" y="840" font-size="14" font-weight="bold" fill="#000" text-anchor="middle">R2</text>
                <text x="970" y="895" font-size="13" fill="#000" text-anchor="middle">330Œ©</text>
                
                <line x1="850" y1="860" x2="930" y2="860" stroke="#e74c3c" stroke-width="4"/>
                <line x1="1010" y1="860" x2="1080" y2="860" stroke="#e74c3c" stroke-width="4"/>
                
                <!-- LED -->
                <polygon points="1080,840 1080,880 1120,860" fill="#e74c3c" stroke="#000" stroke-width="2"/>
                <line x1="1120" y1="840" x2="1120" y2="880" stroke="#000" stroke-width="3"/>
                
                <!-- LED glow -->
                <circle cx="1100" cy="860" r="25" fill="none" stroke="rgba(255,0,0,0.3)" stroke-width="2"/>
                <circle cx="1100" cy="860" r="32" fill="none" stroke="rgba(255,0,0,0.15)" stroke-width="1"/>
                
                <text x="1100" y="920" font-size="14" font-weight="bold" fill="#000" text-anchor="middle">LED1</text>
                <text x="1100" y="938" font-size="11" fill="#666" text-anchor="middle">Status (Red)</text>
                
                <line x1="1120" y1="860" x2="1150" y2="860" stroke="#000" stroke-width="4"/>
                <line x1="1150" y1="860" x2="1150" y2="1100" stroke="#000" stroke-width="4"/>
            </g>
            
            <!-- ============================================ -->
            <!-- POWER RAIL CONNECTIONS -->
            <!-- ============================================ -->
            <!-- +12V rail -->
            <line x1="100" y1="260" x2="1475" y2="260" stroke="#e74c3c" stroke-width="5"/>
            <circle cx="850" cy="260" r="6" fill="#e74c3c"/>
            <circle cx="1350" cy="260" r="6" fill="#e74c3c"/>
            
            <!-- Diode to collector junction -->
            <line x1="1350" y1="410" x2="1350" y2="680" stroke="#000" stroke-width="4"/>
            <line x1="1350" y1="680" x2="1525" y2="680" stroke="#000" stroke-width="4"/>
            <circle cx="1350" cy="680" r="6" fill="#000"/>
            
            <!-- Ground rail -->
            <line x1="100" y1="1100" x2="1700" y2="1100" stroke="#000" stroke-width="6"/>
            <circle cx="450" cy="1100" r="6" fill="#000"/>
            <circle cx="900" cy="1100" r="6" fill="#000"/>
            <circle cx="1190" cy="1100" r="6" fill="#000"/>
            
            <!-- Ground symbols -->
            <use href="#ground" x="100" y="1100"/>
            <use href="#ground" x="380" y="1100"/>
            <use href="#ground" x="450" y="1100"/>
            <use href="#ground" x="900" y="1100"/>
            <use href="#ground" x="1050" y="1100"/>
            <use href="#ground" x="1150" y="1100"/>
            <use href="#ground" x="1190" y="1100"/>
            
            <text x="900" y="1150" font-size="18" font-weight="bold" fill="#000" text-anchor="middle">COMMON GROUND</text>
            <text x="900" y="1172" font-size="14" fill="#e74c3c" font-weight="bold" text-anchor="middle">‚ö† ALL GROUNDS MUST BE CONNECTED TOGETHER</text>
            
            <!-- ============================================ -->
            <!-- LOAD CONNECTIONS -->
            <!-- ============================================ -->
            <line x1="1575" y1="555" x2="1575" y2="630" stroke="#95a5a6" stroke-width="3" stroke-dasharray="8,4"/>
            <line x1="1625" y1="555" x2="1625" y2="630" stroke="#95a5a6" stroke-width="3" stroke-dasharray="8,4"/>
            <line x1="1575" y1="630" x2="1625" y2="630" stroke="#95a5a6" stroke-width="3" stroke-dasharray="8,4"/>
            <text x="1600" y="660" font-size="14" fill="#666" text-anchor="middle">To Load</text>
            <text x="1600" y="680" font-size="12" fill="#666" text-anchor="middle">(User Device)</text>
            
            <!-- ============================================ -->
            <!-- ANNOTATIONS -->
            <!-- ============================================ -->
            <text x="240" y="500" font-size="12" fill="#27ae60" font-weight="bold">5V @ 3A</text>
            <text x="240" y="518" font-size="11" fill="#27ae60">92% efficient</text>
            
            <text x="1080" y="748" font-size="11" fill="#666">IB ‚âà 2.6mA</text>
            <text x="1270" y="675" font-size="11" fill="#666">IC ‚âà 30mA</text>
            
            <text x="750" y="650" font-size="11" fill="#3498db" font-weight="bold">WiFi Control</text>
            <text x="850" y="750" font-size="11" fill="#ff9800" font-weight="bold">Relay Control</text>
            <text x="850" y="800" font-size="11" fill="#9b59b6" font-weight="bold">Button Input</text>
            <text x="850" y="850" font-size="11" fill="#e74c3c" font-weight="bold">Status LED</text>
            
            <!-- Feature callouts -->
            <rect x="30" y="150" width="250" height="180" fill="#fff9e6" stroke="#f39c12" stroke-width="3" rx="5"/>
            <text x="40" y="175" font-size="16" font-weight="bold" fill="#e67e22">‚úì FEATURES:</text>
            <text x="40" y="200" font-size="13" fill="#000">‚Ä¢ Single 12V power supply</text>
            <text x="40" y="222" font-size="13" fill="#000">‚Ä¢ Efficient LM2596 (92%)</text>
            <text x="40" y="244" font-size="13" fill="#000">‚Ä¢ Manual button control</text>
            <text x="40" y="266" font-size="13" fill="#000">‚Ä¢ Visual status LED</text>
            <text x="40" y="288" font-size="13" fill="#000">‚Ä¢ WiFi/MQTT ready</text>
            <text x="40" y="310" font-size="13" fill="#000">‚Ä¢ Protected transistor</text>
            
            <!-- Component values -->
            <rect x="1520" y="700" width="260" height="160" fill="#e8f8f5" stroke="#16a085" stroke-width="3" rx="5"/>
            <text x="1530" y="720" font-size="14" font-weight="bold" fill="#16a085">COMPONENTS:</text>
            <text x="1530" y="742" font-size="12" fill="#000">LM2596: DC-DC Buck Module</text>
            <text x="1530" y="762" font-size="12" fill="#000">R1: 1kŒ© (Base resistor)</text>
            <text x="1530" y="782" font-size="12" fill="#000">R2: 330Œ© (LED resistor)</text>
            <text x="1530" y="802" font-size="12" fill="#000">Q1: 2N2222A (NPN)</text>
            <text x="1530" y="822" font-size="12" fill="#000">D1: 1N4007 (Flyback)</text>
            <text x="1530" y="842" font-size="12" fill="#000">SW1: Momentary NO button</text>
        </svg>
        
        <button class="download-btn" onclick="downloadSVG()">‚¨á Download Complete Schematic (SVG)</button>
        
        <div class="features">
            <h3>üéâ Complete System Features</h3>
            <ul>
                <li><strong>Single 12V Power Supply:</strong> Powers everything - no USB needed!</li>
                <li><strong>Efficient Power Conversion:</strong> LM2596 buck converter (92% efficient, stays cool)</li>
                <li><strong>Manual Control:</strong> Push button for local control (toggle function)</li>
                <li><strong>Visual Feedback:</strong> Red LED shows when relay is ON</li>
                <li><strong>WiFi Ready:</strong> ESP8266 can control via MQTT, HTTP, or home automation</li>
                <li><strong>Protected Circuit:</strong> Flyback diode protects transistor from voltage spikes</li>
                <li><strong>Professional Design:</strong> All components properly rated and specified</li>
            </ul>
            
            <h3>üìù Quick Reference</h3>
            <ul>
                <li><strong>Power Input:</strong> 12V DC, 500mA minimum (recommended 1A)</li>
                <li><strong>ESP8266 Power:</strong> 5V regulated from LM2596</li>
                <li><strong>Relay Control:</strong> D1 (GPIO5) controls via 2N2222A transistor</li>
                <li><strong>Button Input:</strong> D2 (GPIO4) with internal pull-up</li>
                <li><strong>Status LED:</strong> D3 (GPIO0) mirrors relay state</li>
                <li><strong>Load Capacity:</strong> 5A @ 250VAC or 5A @ 30VDC</li>
            </ul>
            
            <h3>‚ö° Power Consumption</h3>
            <ul>
                <li><strong>ESP8266 Idle:</strong> ~80mA @ 5V = 0.4W</li>
                <li><strong>ESP8266 Active (WiFi):</strong> ~200mA @ 5V = 1.0W</li>
                <li><strong>Relay Coil:</strong> ~30mA @ 12V = 0.36W</li>
                <li><strong>Status LED:</strong> ~10mA @ 3.3V = 0.03W</li>
                <li><strong>Total System:</strong> ~350mA @ 12V = 4.2W maximum</li>
            </ul>
        </div>
    </div>
    
    <script>
        function downloadSVG() {
            const svg = document.querySelector('svg');
            const serializer = new XMLSerializer();
            const svgString = serializer.serializeToString(svg);
            const blob = new Blob([svgString], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'ESP8266_Relay_Complete_System_Schematic.svg';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
